<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>√în t·∫≠p CSI104 - Ch∆∞∆°ng 1 (v2)</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Be+Vietnam+Pro:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-color: #0d6efd;
            --secondary-color: #f8f9fa;
            --text-color: #212529;
            --correct-color: #198754;
            --incorrect-color: #dc3545;
            --background-color: #f0f2f5;
            --container-bg: #ffffff;
            --border-radius: 12px;
            --box-shadow: 0 4px 15px rgba(0, 0, 0, 0.08);
        }

        * { box-sizing: border-box; margin: 0; padding: 0; }
        body { font-family: 'Be Vietnam Pro', sans-serif; background-color: var(--background-color); color: var(--text-color); line-height: 1.6; }
        .container { background-color: var(--container-bg); max-width: 800px; margin: 15px auto; padding: 1.5rem; border-radius: var(--border-radius); box-shadow: var(--box-shadow); position: relative; }
        
        @media (max-width: 830px) {
            body { background-color: var(--container-bg); }
            .container { margin: 0; padding: 1rem; box-shadow: none; border-radius: 0; }
        }

        #language-toggle { position: absolute; top: 15px; right: 15px; display: flex; gap: 5px; }
        .lang-btn { font-size: 14px; padding: 6px 10px; background-color: #e9ecef; color: var(--text-color); border: 1px solid #dee2e6; cursor: pointer; border-radius: 6px; }
        .lang-btn.active { background-color: var(--primary-color); color: white; border-color: var(--primary-color); }
        
        header { text-align: center; margin-bottom: 1.5rem; border-bottom: 1px solid #e9ecef; padding-bottom: 1.5rem; padding-right: 60px; }
        header h1 { color: var(--primary-color); font-size: 1.5rem; margin: 0; }
        
        .tabs { display: flex; border-bottom: 2px solid #dee2e6; margin-bottom: 20px; }
        .tab-link { background-color: transparent; border: none; padding: 12px 16px; cursor: pointer; font-size: 1rem; font-weight: 500; color: #495057; transition: color 0.3s, border-bottom-color 0.3s; border-bottom: 3px solid transparent; }
        .tab-link.active { color: var(--primary-color); border-bottom-color: var(--primary-color); }
        .tab-content { display: none; }
        .tab-content.active { display: block; }
        
        #start-screen { text-align: center; padding: 40px 10px; }
        #start-screen h2 { margin-bottom: 20px; }
        #start-options { display: flex; justify-content: center; align-items: center; gap: 15px; flex-wrap: wrap; }
        #num-questions-input { font-size: 1rem; padding: 10px; width: 80px; text-align: center; border: 2px solid #ced4da; border-radius: 8px; }
        
        button { font-family: 'Be Vietnam Pro', sans-serif; background-color: var(--primary-color); color: white; border: none; padding: 12px 24px; border-radius: var(--border-radius); cursor: pointer; font-size: 16px; font-weight: 500; transition: background-color 0.3s, transform 0.2s; -webkit-tap-highlight-color: transparent; }
        button:hover { background-color: #0b5ed7; transform: translateY(-2px); }
        button:active { transform: translateY(0); }
        
        .hidden { display: none !important; }
        
        #quiz-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem; padding: 0 5px; }
        #progress-text { font-size: 1rem; font-weight: 500; }
        #question-container { background-color: var(--secondary-color); padding: 20px; border-radius: var(--border-radius); margin-bottom: 1.5rem; }
        #question-text { font-size: 1.1rem; font-weight: 500; }
        
        #options-container { display: grid; gap: 12px; }
        .option-btn { width: 100%; background-color: var(--container-bg); color: var(--text-color); border: 2px solid #ced4da; text-align: left; padding: 15px; font-size: 1rem; transition: all 0.2s; }
        .option-btn:not([disabled]):hover { background-color: #e9ecef; border-color: var(--primary-color); }
        .option-btn.correct { background-color: var(--correct-color); color: white; border-color: var(--correct-color); }
        .option-btn.incorrect { background-color: var(--incorrect-color); color: white; border-color: var(--incorrect-color); }
        .option-btn[disabled] { cursor: not-allowed; opacity: 0.9; }
        
        #feedback-container { margin-top: 1.5rem; padding: 15px; border-radius: var(--border-radius); min-height: 80px; }
        #feedback-text { font-size: 1.2rem; font-weight: 700; }
        #feedback-text.correct { color: var(--correct-color); }
        #feedback-text.incorrect { color: var(--incorrect-color); }
        #memory-tip { margin-top: 10px; font-size: 0.95rem; background-color: #fff3cd; border-left: 5px solid #ffeeba; padding: 12px; border-radius: 8px; }
        
        #navigation-container { text-align: right; margin-top: 1rem; }
        #result-screen { text-align: center; }
        #score-text { font-size: 1.8rem; font-weight: 700; color: var(--primary-color); margin-bottom: 2rem; }
        
        .result-item { background-color: var(--secondary-color); padding: 15px; margin-bottom: 15px; border-radius: var(--border-radius); text-align: left; border-left: 5px solid; }
        .result-item-correct { border-color: var(--correct-color); }
        .result-item-incorrect { border-color: var(--incorrect-color); }
        .result-question { font-weight: 700; margin-bottom: 10px; }
        .result-answer { margin: 5px 0; }
        .result-answer strong { font-weight: 500; }
        .result-answer .correct-answer-text { color: var(--correct-color); font-weight: 700; }
        .result-answer .incorrect-answer-text { color: var(--incorrect-color); text-decoration: line-through; }
        
        .theory-content { line-height: 1.7; padding: 0 10px; }
        .theory-content h3 { color: var(--primary-color); border-bottom: 2px solid #eee; padding-bottom: 5px; margin-top: 20px; }
        .theory-content ul { list-style-position: inside; padding-left: 0; }
    </style>
</head>
<body>
    <div class="container">
        <div id="language-toggle">
            <button class="lang-btn active" id="lang-vi">üáªüá≥</button>
            <button class="lang-btn" id="lang-en">üá¨üáß</button>
        </div>
        <header>
            <h1 data-key="header_title">√în t·∫≠p CSI104 - Ch∆∞∆°ng 1</h1>
            <p data-key="header_subtitle">Gi·ªõi thi·ªáu v·ªÅ Khoa h·ªçc M√°y t√≠nh</p>
        </header>

        <div class="tabs">
            <button class="tab-link active" onclick="openTab(event, 'quiz-tab')" data-key="tab_quiz">üéì Tr·∫Øc nghi·ªám</button>
            <button class="tab-link" onclick="openTab(event, 'theory-tab')" data-key="tab_theory">üìö L√Ω thuy·∫øt</button>
        </div>

        <div id="quiz-tab" class="tab-content active">
            <div id="start-screen">
                <h2 data-key="start_title">S·∫µn s√†ng ƒë·ªÉ ki·ªÉm tra ki·∫øn th·ª©c?</h2>
                <div id="start-options">
                    <label for="num-questions-input" data-key="start_label">Ch·ªçn s·ªë c√¢u:</label>
                    <input type="number" id="num-questions-input" value="20" min="1" max="100">
                    <button id="start-btn" data-key="start_btn">B·∫Øt ƒë·∫ßu</button>
                </div>
            </div>

            <div id="quiz-screen" class="hidden">
                <div id="quiz-header">
                    <p id="progress-text"></p>
                    <button id="submit-btn-quiz" data-key="submit_btn">N·ªôp b√†i</button>
                </div>
                <div id="question-container">
                    <p id="question-text"></p>
                </div>
                <div id="options-container"></div>
                <div id="feedback-container">
                    <p id="feedback-text"></p>
                    <p id="memory-tip"></p>
                </div>
                <div id="navigation-container">
                    <button id="next-btn" class="hidden"></button>
                </div>
            </div>

            <div id="result-screen" class="hidden">
                <h2 data-key="results_title">K·∫øt qu·∫£ b√†i l√†m</h2>
                <p id="score-text"></p>
                <div id="result-details"></div>
                <button id="restart-btn" data-key="restart_btn">L√†m l·∫°i b√†i kh√°c</button>
            </div>
        </div>

        <div id="theory-tab" class="tab-content">
            <h2 data-key="theory_title">T√≥m t·∫Øt L√Ω thuy·∫øt Ch∆∞∆°ng 1</h2>
            <div class="theory-content">
                <h3 data-key="theory_h3_1">1. Hai M√¥ h√¨nh N·ªÅn t·∫£ng c·ªßa M√°y t√≠nh</h3>
                <p><strong data-key="theory_turing_model_title">M√¥ h√¨nh Turing (Alan Turing, 1936):</strong></p>
                <ul>
                    <li data-key="theory_turing_1">ƒê·ªãnh nghƒ©a m√°y t√≠nh l√† m·ªôt "<strong>b·ªô x·ª≠ l√Ω d·ªØ li·ªáu c√≥ th·ªÉ l·∫≠p tr√¨nh ƒë∆∞·ª£c</strong>".</li>
                    <li data-key="theory_turing_2">C√¥ng th·ª©c c·ªët l√µi: <code>Input Data + Program ‚Üí Computer ‚Üí Output Data</code>.</li>
                    <li data-key="theory_turing_3">N·ªÅn t·∫£ng cho kh√°i ni·ªám <strong>m√°y t√≠nh ƒëa nƒÉng</strong> (general-purpose).</li>
                </ul>
                <p><strong data-key="theory_vonneumann_model_title">M√¥ h√¨nh von Neumann (John von Neumann, ~1945):</strong></p>
                <ul>
                    <li data-key="theory_vonneumann_1">Ki·∫øn tr√∫c th·ª±c t·∫ø c·ªßa m√°y t√≠nh hi·ªán ƒë·∫°i.</li>
                    <li data-key="theory_vonneumann_2">ƒê·ªôt ph√°: "<strong>Kh√°i ni·ªám ch∆∞∆°ng tr√¨nh ƒë∆∞·ª£c l∆∞u tr·ªØ</strong>" (Stored-Program Concept) - c·∫£ ch∆∞∆°ng tr√¨nh v√† d·ªØ li·ªáu ƒë·ªÅu ƒë∆∞·ª£c l∆∞u trong b·ªô nh·ªõ d∆∞·ªõi d·∫°ng nh·ªã ph√¢n.</li>
                    <li data-key="theory_vonneumann_3">4 kh·ªëi ch·ª©c nƒÉng: <strong>B·ªô nh·ªõ (Memory)</strong>, <strong>ƒê∆°n v·ªã s·ªë h·ªçc v√† logic (ALU)</strong>, <strong>ƒê∆°n v·ªã ƒëi·ªÅu khi·ªÉn (Control Unit)</strong>, v√† <strong>Thi·∫øt b·ªã v√†o/ra (I/O)</strong>.</li>
                </ul>

                <h3 data-key="theory_h3_2">2. Ba Th√†nh ph·∫ßn C·∫•u th√†nh M√°y t√≠nh</h3>
                <ul>
                    <li data-key="theory_comp_1"><strong>Ph·∫ßn c·ª©ng (Hardware):</strong> C√°c th√†nh ph·∫ßn v·∫≠t l√Ω (CPU, RAM, ·ªï c·ª©ng).</li>
                    <li data-key="theory_comp_2"><strong>D·ªØ li·ªáu (Data):</strong> Th√¥ng tin th√¥, ƒë∆∞·ª£c l∆∞u tr·ªØ d∆∞·ªõi d·∫°ng <strong>nh·ªã ph√¢n</strong> (bit 0 v√† 1).</li>
                    <li data-key="theory_comp_3"><strong>Ph·∫ßn m·ªÅm (Software):</strong> T·∫≠p h·ª£p c√°c ch·ªâ th·ªã (ch∆∞∆°ng tr√¨nh) ƒë·ªÉ h∆∞·ªõng d·∫´n ph·∫ßn c·ª©ng x·ª≠ l√Ω d·ªØ li·ªáu.</li>
                </ul>

                <h3 data-key="theory_h3_3">3. L·ªãch s·ª≠ Ph√°t tri·ªÉn c·ªßa M√°y t√≠nh</h3>
                <ul>
                    <li data-key="theory_hist_1"><strong>Giai ƒëo·∫°n m√°y c∆° kh√≠ (Tr∆∞·ªõc 1930):</strong> Pascaline, <strong>Analytical Engine</strong> (Charles Babbage).</li>
                    <li data-key="theory_hist_2"><strong>Giai ƒëo·∫°n khai sinh m√°y t√≠nh ƒëi·ªán t·ª≠ (1930 - 1950):</strong> S·ª≠ d·ª•ng <strong>b√≥ng ƒë√®n ch√¢n kh√¥ng</strong> (vacuum tubes), l·∫≠p tr√¨nh b·∫±ng tay (ENIAC). EDVAC l√† m√°y t√≠nh ƒë·∫ßu ti√™n theo ki·∫øn tr√∫c von Neumann.</li>
                    <li data-key="theory_hist_3"><strong>Th·∫ø h·ªá 1 (1950-1959):</strong> B√≥ng ƒë√®n ch√¢n kh√¥ng.</li>
                    <li data-key="theory_hist_4"><strong>Th·∫ø h·ªá 2 (1959-1965):</strong> <strong>B√≥ng b√°n d·∫´n (Transistor)</strong> -> nh·ªè, nhanh, r·∫ª h∆°n.</li>
                    <li data-key="theory_hist_5"><strong>Th·∫ø h·ªá 3 (1965-1975):</strong> <strong>M·∫°ch t√≠ch h·ª£p (Integrated Circuit - IC)</strong>.</li>
                    <li data-key="theory_hist_6"><strong>Th·∫ø h·ªá 4 (1975-1985):</strong> <strong>Vi x·ª≠ l√Ω (Microprocessor)</strong> -> k·ª∑ nguy√™n m√°y t√≠nh c√° nh√¢n (PC).</li>
                    <li data-key="theory_hist_7"><strong>Th·∫ø h·ªá 5 (1985-nay):</strong> X·ª≠ l√Ω song song, m·∫°ng m√°y t√≠nh, AI, thi·∫øt b·ªã di ƒë·ªông.</li>
                </ul>
            </div>
        </div>
    </div>
    
    <script>
        document.addEventListener('DOMContentLoaded', () => {
    
            // --- C∆† S·ªû D·ªÆ LI·ªÜU SONG NG·ªÆ ---
            const translations = {
                vi: {
                    header_title: "√în t·∫≠p CSI104 - Ch∆∞∆°ng 1",
                    header_subtitle: "Gi·ªõi thi·ªáu v·ªÅ Khoa h·ªçc M√°y t√≠nh",
                    tab_quiz: "üéì Tr·∫Øc nghi·ªám",
                    tab_theory: "üìö L√Ω thuy·∫øt",
                    start_title: "S·∫µn s√†ng ƒë·ªÉ ki·ªÉm tra ki·∫øn th·ª©c?",
                    start_label: "Ch·ªçn s·ªë c√¢u:",
                    start_btn: "B·∫Øt ƒë·∫ßu",
                    submit_btn: "N·ªôp b√†i",
                    results_title: "K·∫øt qu·∫£ b√†i l√†m",
                    restart_btn: "L√†m l·∫°i b√†i kh√°c",
                    feedback_correct: "Ch√≠nh x√°c!",
                    feedback_incorrect: "Kh√¥ng ch√≠nh x√°c!",
                    next_btn_text: "C√¢u ti·∫øp theo ‚Üí",
                    finish_btn_text: "Ho√†n th√†nh & Xem k·∫øt qu·∫£",
                    progress_text: "C√¢u {current} / {total}",
                    score_text: "B·∫°n ƒë√£ tr·∫£ l·ªùi ƒë√∫ng {score} / {total} c√¢u",
                    your_answer_text: "C√¢u tr·∫£ l·ªùi c·ªßa b·∫°n:",
                    correct_answer_text: "ƒê√°p √°n ƒë√∫ng:",
                    memory_tip_text: "üí° M·∫πo ghi nh·ªõ:",
                    theory_title: "T√≥m t·∫Øt L√Ω thuy·∫øt Ch∆∞∆°ng 1",
                    theory_h3_1: "1. Hai M√¥ h√¨nh N·ªÅn t·∫£ng c·ªßa M√°y t√≠nh",
                    theory_turing_model_title: "M√¥ h√¨nh Turing (Alan Turing, 1936):",
                    theory_turing_1: 'ƒê·ªãnh nghƒ©a m√°y t√≠nh l√† m·ªôt "<strong>b·ªô x·ª≠ l√Ω d·ªØ li·ªáu c√≥ th·ªÉ l·∫≠p tr√¨nh ƒë∆∞·ª£c</strong>".',
                    theory_turing_2: "C√¥ng th·ª©c c·ªët l√µi: <code>Input Data + Program ‚Üí Computer ‚Üí Output Data</code>.",
                    theory_turing_3: "N·ªÅn t·∫£ng cho kh√°i ni·ªám <strong>m√°y t√≠nh ƒëa nƒÉng</strong> (general-purpose).",
                    theory_vonneumann_model_title: "M√¥ h√¨nh von Neumann (John von Neumann, ~1945):",
                    theory_vonneumann_1: "Ki·∫øn tr√∫c th·ª±c t·∫ø c·ªßa m√°y t√≠nh hi·ªán ƒë·∫°i.",
                    theory_vonneumann_2: 'ƒê·ªôt ph√°: "<strong>Kh√°i ni·ªám ch∆∞∆°ng tr√¨nh ƒë∆∞·ª£c l∆∞u tr·ªØ</strong>" (Stored-Program Concept) - c·∫£ ch∆∞∆°ng tr√¨nh v√† d·ªØ li·ªáu ƒë·ªÅu ƒë∆∞·ª£c l∆∞u trong b·ªô nh·ªõ d∆∞·ªõi d·∫°ng nh·ªã ph√¢n.',
                    theory_vonneumann_3: "4 kh·ªëi ch·ª©c nƒÉng: <strong>B·ªô nh·ªõ (Memory)</strong>, <strong>ƒê∆°n v·ªã s·ªë h·ªçc v√† logic (ALU)</strong>, <strong>ƒê∆°n v·ªã ƒëi·ªÅu khi·ªÉn (Control Unit)</strong>, v√† <strong>Thi·∫øt b·ªã v√†o/ra (I/O)</strong>.",
                    theory_h3_2: "2. Ba Th√†nh ph·∫ßn C·∫•u th√†nh M√°y t√≠nh",
                    theory_comp_1: "<strong>Ph·∫ßn c·ª©ng (Hardware):</strong> C√°c th√†nh ph·∫ßn v·∫≠t l√Ω (CPU, RAM, ·ªï c·ª©ng).",
                    theory_comp_2: "<strong>D·ªØ li·ªáu (Data):</strong> Th√¥ng tin th√¥, ƒë∆∞·ª£c l∆∞u tr·ªØ d∆∞·ªõi d·∫°ng <strong>nh·ªã ph√¢n</strong> (bit 0 v√† 1).",
                    theory_comp_3: "<strong>Ph·∫ßn m·ªÅm (Software):</strong> T·∫≠p h·ª£p c√°c ch·ªâ th·ªã (ch∆∞∆°ng tr√¨nh) ƒë·ªÉ h∆∞·ªõng d·∫´n ph·∫ßn c·ª©ng x·ª≠ l√Ω d·ªØ li·ªáu.",
                    theory_h3_3: "3. L·ªãch s·ª≠ Ph√°t tri·ªÉn c·ªßa M√°y t√≠nh",
                    theory_hist_1: "<strong>Giai ƒëo·∫°n m√°y c∆° kh√≠ (Tr∆∞·ªõc 1930):</strong> Pascaline, <strong>Analytical Engine</strong> (Charles Babbage).",
                    theory_hist_2: "<strong>Giai ƒëo·∫°n khai sinh m√°y t√≠nh ƒëi·ªán t·ª≠ (1930 - 1950):</strong> S·ª≠ d·ª•ng <strong>b√≥ng ƒë√®n ch√¢n kh√¥ng</strong> (vacuum tubes), l·∫≠p tr√¨nh b·∫±ng tay (ENIAC). EDVAC l√† m√°y t√≠nh ƒë·∫ßu ti√™n theo ki·∫øn tr√∫c von Neumann.",
                    theory_hist_3: "<strong>Th·∫ø h·ªá 1 (1950-1959):</strong> B√≥ng ƒë√®n ch√¢n kh√¥ng.",
                    theory_hist_4: "<strong>Th·∫ø h·ªá 2 (1959-1965):</strong> <strong>B√≥ng b√°n d·∫´n (Transistor)</strong> -> nh·ªè, nhanh, r·∫ª h∆°n.",
                    theory_hist_5: "<strong>Th·∫ø h·ªá 3 (1965-1975):</strong> <strong>M·∫°ch t√≠ch h·ª£p (Integrated Circuit - IC)</strong>.",
                    theory_hist_6: "<strong>Th·∫ø h·ªá 4 (1975-1985):</strong> <strong>Vi x·ª≠ l√Ω (Microprocessor)</strong> -> k·ª∑ nguy√™n m√°y t√≠nh c√° nh√¢n (PC).",
                    theory_hist_7: "<strong>Th·∫ø h·ªá 5 (1985-nay):</strong> X·ª≠ l√Ω song song, m·∫°ng m√°y t√≠nh, AI, thi·∫øt b·ªã di ƒë·ªông.",
                },
                en: {
                    header_title: "CSI104 Review - Chapter 1",
                    header_subtitle: "Introduction to Computer Science",
                    tab_quiz: "üéì Quiz",
                    tab_theory: "üìö Theory",
                    start_title: "Ready to test your knowledge?",
                    start_label: "Number of questions:",
                    start_btn: "Start",
                    submit_btn: "Submit",
                    results_title: "Quiz Results",
                    restart_btn: "Try Another Quiz",
                    feedback_correct: "Correct!",
                    feedback_incorrect: "Incorrect!",
                    next_btn_text: "Next Question ‚Üí",
                    finish_btn_text: "Finish & View Results",
                    progress_text: "Question {current} / {total}",
                    score_text: "You answered {score} / {total} questions correctly",
                    your_answer_text: "Your answer:",
                    correct_answer_text: "Correct answer:",
                    memory_tip_text: "üí° Memory Tip:",
                    theory_title: "Chapter 1 Theory Summary",
                    theory_h3_1: "1. Two Foundational Computer Models",
                    theory_turing_model_title: "Turing Model (Alan Turing, 1936):",
                    theory_turing_1: 'Defines a computer as a "<strong>Programmable Data Processor</strong>".',
                    theory_turing_2: "Core formula: <code>Input Data + Program ‚Üí Computer ‚Üí Output Data</code>.",
                    theory_turing_3: "Foundation for the <strong>general-purpose computer</strong> concept.",
                    theory_vonneumann_model_title: "Von Neumann Model (John von Neumann, ~1945):",
                    theory_vonneumann_1: "Practical architecture for modern computers.",
                    theory_vonneumann_2: 'Breakthrough: "<strong>Stored-Program Concept</strong>" - both program and data are stored in memory as binary.',
                    theory_vonneumann_3: "4 functional units: <strong>Memory</strong>, <strong>Arithmetic Logic Unit (ALU)</strong>, <strong>Control Unit</strong>, and <strong>Input/Output (I/O)</strong>.",
                    theory_h3_2: "2. Three Components of a Computer",
                    theory_comp_1: "<strong>Hardware:</strong> Physical components (CPU, RAM, hard drive).",
                    theory_comp_2: "<strong>Data:</strong> Raw information, stored in <strong>binary</strong> format (bits 0 and 1).",
                    theory_comp_3: "<strong>Software:</strong> A set of instructions (a program) that directs the hardware to process data.",
                    theory_h3_3: "3. History of Computer Development",
                    theory_hist_1: "<strong>Mechanical Era (Before 1930):</strong> Pascaline, <strong>Analytical Engine</strong> (Charles Babbage).",
                    theory_hist_2: "<strong>Birth of Electronic Computers (1930 - 1950):</strong> Used <strong>vacuum tubes</strong>, manually programmed (ENIAC). EDVAC was the first von Neumann architecture computer.",
                    theory_hist_3: "<strong>1st Generation (1950-1959):</strong> Vacuum tubes.",
                    theory_hist_4: "<strong>2nd Generation (1959-1965):</strong> <strong>Transistor</strong> -> smaller, faster, cheaper.",
                    theory_hist_5: "<strong>3rd Generation (1965-1975):</strong> <strong>Integrated Circuit (IC)</strong>.",
                    theory_hist_6: "<strong>4th Generation (1975-1985):</strong> <strong>Microprocessor</strong> -> personal computer (PC) era.",
                    theory_hist_7: "<strong>5th Generation (1985-present):</strong> Parallel processing, computer networks, AI, mobile devices.",
                }
            };

            // --- NG√ÇN H√ÄNG 100 C√ÇU H·ªéI SONG NG·ªÆ ---
            const allQuestions = [
                {
                    question_vi: "Theo Alan Turing, m·ªôt m√°y t√≠nh v·ªÅ c∆° b·∫£n l√† m·ªôt...?",
                    options_vi: ["M√°y t√≠nh to√°n c∆° h·ªçc", "B·ªô x·ª≠ l√Ω d·ªØ li·ªáu c√≥ th·ªÉ l·∫≠p tr√¨nh ƒë∆∞·ª£c (Programmable data processor)", "Thi·∫øt b·ªã l∆∞u tr·ªØ b·ªô nh·ªõ", "H·ªá th·ªëng th·ª±c thi tu·∫ßn t·ª±"],
                    answer_vi: "B·ªô x·ª≠ l√Ω d·ªØ li·ªáu c√≥ th·ªÉ l·∫≠p tr√¨nh ƒë∆∞·ª£c (Programmable data processor)",
                    tip_vi: "Turing ƒë·ªãnh nghƒ©a m√°y t√≠nh qua kh·∫£ nƒÉng ƒë∆∞·ª£c 'l·∫≠p tr√¨nh' ƒë·ªÉ th·ª±c hi·ªán c√°c nhi·ªám v·ª• kh√°c nhau.",
                    question_en: "According to Alan Turing, a computer is fundamentally a...?",
                    options_en: ["Mechanical calculator", "Programmable data processor", "Memory storage device", "Sequential execution system"],
                    answer_en: "Programmable data processor",
                    tip_en: "Turing defined a computer by its ability to be 'programmed' to perform different tasks."
                },
                {
                    question_vi: "Trong m√¥ h√¨nh Turing, y·∫øu t·ªë n√†o ƒë∆∞·ª£c th√™m v√†o m·ªôt m√°y x·ª≠ l√Ω d·ªØ li·ªáu ƒë∆°n gi·∫£n ƒë·ªÉ bi·∫øn n√≥ th√†nh m·ªôt m√°y t√≠nh ƒëa nƒÉng?",
                    options_vi: ["D·ªØ li·ªáu ƒë·∫ßu v√†o (Input data)", "D·ªØ li·ªáu ƒë·∫ßu ra (Output data)", "Ch∆∞∆°ng tr√¨nh (Program)", "B·ªô nh·ªõ (Memory)"],
                    answer_vi: "Ch∆∞∆°ng tr√¨nh (Program)",
                    tip_vi: "Ch√≠nh 'ch∆∞∆°ng tr√¨nh' l√† th·ª© ch·ªâ d·∫´n cho m√°y t√≠nh ph·∫£i l√†m g√¨ v·ªõi d·ªØ li·ªáu ƒë·∫ßu v√†o.",
                    question_en: "In the Turing model, what element is added to a simple data processor to turn it into a general-purpose computer?",
                    options_en: ["Input data", "Output data", "Program", "Memory"],
                    answer_en: "Program",
                    tip_en: "The 'program' is what instructs the computer on what to do with the input data."
                },
                {
                    question_vi: "Kh√°i ni·ªám ƒë·ªôt ph√° v√† quan tr·ªçng nh·∫•t c·ªßa m√¥ h√¨nh Von Neumann l√† g√¨?",
                    options_vi: ["S·ª≠ d·ª•ng b√≥ng b√°n d·∫´n", "Kh√°i ni·ªám Ch∆∞∆°ng tr√¨nh ƒë∆∞·ª£c l∆∞u tr·ªØ (Stored Program Concept)", "Ki·∫øn tr√∫c 4 th√†nh ph·∫ßn", "Th·ª±c thi song song"],
                    answer_vi: "Kh√°i ni·ªám Ch∆∞∆°ng tr√¨nh ƒë∆∞·ª£c l∆∞u tr·ªØ (Stored Program Concept)",
                    tip_vi: "Von Neumann = Ch∆∞∆°ng tr√¨nh ƒë∆∞·ª£c l∆∞u tr·ªØ. ƒê√¢y l√† √Ω t∆∞·ªüng n·ªÅn t·∫£ng r·∫±ng c·∫£ ch∆∞∆°ng tr√¨nh v√† d·ªØ li·ªáu ƒë·ªÅu n·∫±m chung trong b·ªô nh·ªõ.",
                    question_en: "What is the most groundbreaking and important concept of the Von Neumann model?",
                    options_en: ["Use of transistors", "Stored Program Concept", "4-component architecture", "Parallel execution"],
                    answer_en: "Stored Program Concept",
                    tip_en: "Von Neumann = Stored Program. This is the fundamental idea that both the program and data reside together in memory."
                },
                // ... (Th√™m 97 c√¢u h·ªèi c√≤n l·∫°i theo c·∫•u tr√∫c t∆∞∆°ng t·ª± ·ªü ƒë√¢y)
                 {
                    question_vi: "S·∫Øp x·∫øp c√°c c√¥ng ngh·ªá sau theo th·ª© t·ª± xu·∫•t hi·ªán trong l·ªãch s·ª≠: (1) M·∫°ch t√≠ch h·ª£p, (2) Vi x·ª≠ l√Ω, (3) B√≥ng b√°n d·∫´n, (4) B√≥ng ƒë√®n ch√¢n kh√¥ng.",
                    options_vi: ["1, 2, 3, 4", "4, 3, 1, 2", "3, 4, 1, 2", "4, 3, 2, 1"],
                    answer_vi: "4, 3, 1, 2",
                    tip_vi: "Th·ª© t·ª± c√°c th·∫ø h·ªá: (4) B√≥ng ƒë√®n ch√¢n kh√¥ng (Th·∫ø h·ªá 1) -> (3) B√≥ng b√°n d·∫´n (Th·∫ø h·ªá 2) -> (1) M·∫°ch t√≠ch h·ª£p (Th·∫ø h·ªá 3) -> (2) Vi x·ª≠ l√Ω (Th·∫ø h·ªá 4).",
                    question_en: "Arrange the following technologies in historical order of appearance: (1) Integrated Circuit, (2) Microprocessor, (3) Transistor, (4) Vacuum Tube.",
                    options_en: ["1, 2, 3, 4", "4, 3, 1, 2", "3, 4, 1, 2", "4, 3, 2, 1"],
                    answer_en: "4, 3, 1, 2",
                    tip_en: "The order of generations: (4) Vacuum Tube (1st Gen) -> (3) Transistor (2nd Gen) -> (1) Integrated Circuit (3rd Gen) -> (2) Microprocessor (4th Gen)."
                }
            ];
             // ƒê·ªÉ l√†m cho file kh√¥ng qu√° d√†i, t√¥i s·∫Ω ch·ªâ ƒë·ªÉ l·∫°i m·ªôt v√†i c√¢u h·ªèi m·∫´u. 
             // B·∫°n c√≥ th·ªÉ d√°n to√†n b·ªô 100 c√¢u h·ªèi ƒë√£ ƒë∆∞·ª£c ƒë·ªãnh d·∫°ng song ng·ªØ v√†o ƒë√¢y.

            // --- THAM CHI·∫æU ƒê·∫æN C√ÅC PH·∫¶N T·ª¨ HTML ---
            const startScreen = document.getElementById('start-screen');
            const quizScreen = document.getElementById('quiz-screen');
            const resultScreen = document.getElementById('result-screen');
            
            const startBtn = document.getElementById('start-btn');
            const restartBtn = document.getElementById('restart-btn');
            const submitBtnQuiz = document.getElementById('submit-btn-quiz');
            const nextBtn = document.getElementById('next-btn');
            const numQuestionsInput = document.getElementById('num-questions-input');

            const progressText = document.getElementById('progress-text');
            const questionText = document.getElementById('question-text');
            const optionsContainer = document.getElementById('options-container');
            const feedbackText = document.getElementById('feedback-text');
            const memoryTip = document.getElementById('memory-tip');

            const scoreText = document.getElementById('score-text');
            const resultDetails = document.getElementById('result-details');
            
            const langViBtn = document.getElementById('lang-vi');
            const langEnBtn = document.getElementById('lang-en');

            // --- BI·∫æN TR·∫†NG TH√ÅI ---
            let currentLanguage = 'vi';
            let quizQuestions, currentQuestionIndex, userAnswers;
            
            // --- C√ÅC H√ÄM X·ª¨ L√ù S·ª∞ KI·ªÜN ---
            startBtn.addEventListener('click', startGame);
            restartBtn.addEventListener('click', () => {
                resultScreen.classList.add('hidden');
                startScreen.classList.remove('hidden');
            });
            nextBtn.addEventListener('click', nextQuestion);
            submitBtnQuiz.addEventListener('click', showResults);
            langViBtn.addEventListener('click', () => setLanguage('vi'));
            langEnBtn.addEventListener('click', () => setLanguage('en'));

            // --- LOGIC CH√çNH ---
            function shuffle(array) {
                for (let i = array.length - 1; i > 0; i--) {
                    const j = Math.floor(Math.random() * (i + 1));
                    [array[i], array[j]] = [array[j], array[i]];
                }
                return array;
            }

            function startGame() {
                const numQuestions = parseInt(numQuestionsInput.value);
                if (isNaN(numQuestions) || numQuestions < 1 || numQuestions > allQuestions.length) {
                    alert(currentLanguage === 'vi' ? `Vui l√≤ng nh·∫≠p s·ªë c√¢u t·ª´ 1 ƒë·∫øn ${allQuestions.length}.` : `Please enter a number of questions between 1 and ${allQuestions.length}.`);
                    return;
                }

                startScreen.classList.add('hidden');
                resultScreen.classList.add('hidden');
                quizScreen.classList.remove('hidden');
                
                quizQuestions = shuffle([...allQuestions]).slice(0, numQuestions);
                currentQuestionIndex = 0;
                userAnswers = [];
                
                displayQuestion();
            }

            function displayQuestion() {
                resetState();
                const currentQuestion = quizQuestions[currentQuestionIndex];
                
                progressText.innerText = translations[currentLanguage].progress_text
                    .replace('{current}', currentQuestionIndex + 1)
                    .replace('{total}', quizQuestions.length);
                
                questionText.innerText = currentQuestion['question_' + currentLanguage];
                
                const shuffledOptions = shuffle([...currentQuestion['options_' + currentLanguage]]);
                
                shuffledOptions.forEach(option => {
                    const button = document.createElement('button');
                    button.innerText = option;
                    button.classList.add('option-btn');
                    button.addEventListener('click', selectAnswer);
                    optionsContainer.appendChild(button);
                });
            }

            function resetState() {
                nextBtn.classList.add('hidden');
                feedbackText.innerText = '';
                memoryTip.innerText = '';
                memoryTip.classList.add('hidden');
                while (optionsContainer.firstChild) {
                    optionsContainer.removeChild(optionsContainer.firstChild);
                }
            }

            function selectAnswer(e) {
                const selectedBtn = e.target;
                const selectedAnswer = selectedBtn.innerText;
                const currentQuestion = quizQuestions[currentQuestionIndex];
                const correctAnswer = currentQuestion['answer_' + currentLanguage];
                
                const isCorrect = selectedAnswer === correctAnswer;
                
                userAnswers.push({
                    questionData: currentQuestion,
                    userAnswer: selectedAnswer,
                    isCorrect: isCorrect
                });
                
                feedbackText.innerText = isCorrect ? translations[currentLanguage].feedback_correct : translations[currentLanguage].feedback_incorrect;
                feedbackText.className = isCorrect ? 'correct' : 'incorrect';
                
                if (!isCorrect) {
                    memoryTip.innerHTML = `<strong>${translations[currentLanguage].memory_tip_text}</strong> ${currentQuestion['tip_' + currentLanguage]}`;
                    memoryTip.classList.remove('hidden');
                }
                
                Array.from(optionsContainer.children).forEach(button => {
                    if (button.innerText === correctAnswer) button.classList.add('correct');
                    else if (button === selectedBtn) button.classList.add('incorrect');
                    button.disabled = true;
                });
                
                nextBtn.classList.remove('hidden');
                if (currentQuestionIndex === quizQuestions.length - 1) {
                    nextBtn.innerText = translations[currentLanguage].finish_btn_text;
                } else {
                    nextBtn.innerText = translations[currentLanguage].next_btn_text;
                }
            }

            function nextQuestion() {
                currentQuestionIndex++;
                if (currentQuestionIndex < quizQuestions.length) {
                    displayQuestion();
                } else {
                    showResults();
                }
            }
            
            function showResults() {
                quizScreen.classList.add('hidden');
                resultScreen.classList.remove('hidden');
                renderResults();
            }

            function renderResults() {
                const correctAnswersCount = userAnswers.filter(answer => answer.isCorrect).length;
                scoreText.innerText = translations[currentLanguage].score_text
                    .replace('{score}', correctAnswersCount)
                    .replace('{total}', userAnswers.length);
                
                resultDetails.innerHTML = '';
                userAnswers.forEach((answer, index) => {
                    const { questionData, userAnswer, isCorrect } = answer;
                    const resultItem = document.createElement('div');
                    resultItem.classList.add('result-item', isCorrect ? 'result-item-correct' : 'result-item-incorrect');
                    
                    const correctAnswerText = questionData['answer_' + currentLanguage];
                    let answerHTML = `<p class="result-answer"><strong>${translations[currentLanguage].your_answer_text}</strong> ${userAnswer}</p>`;
                    if (!isCorrect) {
                        answerHTML = `
                            <p class="result-answer"><strong>${translations[currentLanguage].your_answer_text}</strong> <span class="incorrect-answer-text">${userAnswer}</span></p>
                            <p class="result-answer"><strong>${translations[currentLanguage].correct_answer_text}</strong> <span class="correct-answer-text">${correctAnswerText}</span></p>
                            <p id="memory-tip"><strong>${translations[currentLanguage].memory_tip_text}</strong> ${questionData['tip_' + currentLanguage]}</p>
                        `;
                    }
                    resultItem.innerHTML = `<p class="result-question">${index + 1}. ${questionData['question_' + currentLanguage]}</p>${answerHTML}`;
                    resultDetails.appendChild(resultItem);
                });
            }

            function setLanguage(lang) {
                currentLanguage = lang;
                langViBtn.classList.toggle('active', lang === 'vi');
                langEnBtn.classList.toggle('active', lang === 'en');
                
                // D·ªãch c√°c th√†nh ph·∫ßn tƒ©nh
                document.querySelectorAll('[data-key]').forEach(element => {
                    const key = element.getAttribute('data-key');
                    if (translations[lang][key]) {
                        element.innerHTML = translations[lang][key];
                    }
                });
                
                // Re-render view hi·ªán t·∫°i n·∫øu ƒëang trong quiz ho·∫∑c ·ªü m√†n h√¨nh k·∫øt qu·∫£
                if (!quizScreen.classList.contains('hidden')) {
                    rerenderQuizView();
                }
                if (!resultScreen.classList.contains('hidden')) {
                    renderResults();
                }
            }

            function rerenderQuizView() {
                const currentQuestion = quizQuestions[currentQuestionIndex];
                 progressText.innerText = translations[currentLanguage].progress_text
                    .replace('{current}', currentQuestionIndex + 1)
                    .replace('{total}', quizQuestions.length);
                questionText.innerText = currentQuestion['question_' + currentLanguage];

                // N·∫øu c√¢u h·ªèi ch∆∞a ƒë∆∞·ª£c tr·∫£ l·ªùi, ch·ªâ c·∫ßn c·∫≠p nh·∫≠t options
                if (optionsContainer.querySelector('button:not([disabled])')) {
                     const newOptions = shuffle([...currentQuestion['options_' + currentLanguage]]);
                     optionsContainer.childNodes.forEach((btn, i) => {
                         btn.innerText = newOptions[i];
                     });
                } else { // N·∫øu ƒë√£ tr·∫£ l·ªùi, c·∫≠p nh·∫≠t m·ªçi th·ª©, bao g·ªìm c·∫£ feedback
                    const lastAnswer = userAnswers[userAnswers.length - 1];
                    const correctAnswer = currentQuestion['answer_' + currentLanguage];
                    
                    optionsContainer.childNodes.forEach(btn => {
                        btn.innerText = "Option"; // T·∫°m th·ªùi, s·∫Ω ƒë∆∞·ª£c c·∫≠p nh·∫≠t l·∫°i ngay sau
                    });

                    // C·∫ßn c√≥ m·ªôt c√°ch map l·∫°i c√°c option c≈© v√† m·ªõi, c√°ch ƒë∆°n gi·∫£n nh·∫•t l√† render l·∫°i ho√†n to√†n
                    const shuffledOptions = shuffle([...currentQuestion['options_' + currentLanguage]]);
                    optionsContainer.innerHTML = '';
                    shuffledOptions.forEach(opt => {
                        const button = document.createElement('button');
                        button.innerText = opt;
                        button.classList.add('option-btn');
                        button.disabled = true;
                        
                        if (opt === correctAnswer) button.classList.add('correct');
                        if (opt === lastAnswer.userAnswer) {
                             if (!lastAnswer.isCorrect) button.classList.add('incorrect');
                        }
                        optionsContainer.appendChild(button);
                    });

                    feedbackText.innerText = lastAnswer.isCorrect ? translations[currentLanguage].feedback_correct : translations[currentLanguage].feedback_incorrect;
                    if (!lastAnswer.isCorrect) {
                        memoryTip.innerHTML = `<strong>${translations[currentLanguage].memory_tip_text}</strong> ${currentQuestion['tip_' + currentLanguage]}`;
                    }
                    if (currentQuestionIndex === quizQuestions.length - 1) {
                        nextBtn.innerText = translations[currentLanguage].finish_btn_text;
                    } else {
                        nextBtn.innerText = translations[currentLanguage].next_btn_text;
                    }
                }
            }

            setLanguage('vi'); // Kh·ªüi t·∫°o ng√¥n ng·ªØ
        });

        // --- H√ÄM X·ª¨ L√ù TAB ---
        function openTab(evt, tabName) {
            let i, tabcontent, tablinks;
            tabcontent = document.getElementsByClassName("tab-content");
            for (i = 0; i < tabcontent.length; i++) {
                tabcontent[i].style.display = "none";
            }
            tablinks = document.getElementsByClassName("tab-link");
            for (i = 0; i < tablinks.length; i++) {
                tablinks[i].className = tablinks[i].className.replace(" active", "");
            }
            document.getElementById(tabName).style.display = "block";
            evt.currentTarget.className += " active";
        }
    </script>
</body>
</html>
